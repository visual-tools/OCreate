// import { jss } from '../gitSubtreeCollection/dvtng/jss/jss.js';
(ThisEqualsThat=window.ThisEqualsThat||{}).BootstrapObjects=new function(h){O=this;h(window);
// O.windowResizeController = function()
// { var width = $window.width();
//   $("body").toggleClass("xs", width < 400);
//   $("body").toggleClass("sm", width < 768 && width > 400);
//   $window.off("resize", O.windowResizeController);
//   setTimeout(function () {$window.on("resize", O.windowResizeController); } , 300);
// }
// $window.on("resize", O.windowResizeController);
// this.regex_namespace    = /^([^:]+/;
this.regex_elementType=/^([^.#@]+)/;this.regex_id=/#([^.@]+)/;this.regex_classes=/\.([^@]+)/;this.regex_chainCalls=/@(.*)/;this.regex_dot=/\./g;this.elementDefSequence={id:"",classes:"",elementType:"div"};this.elementNamespaceDict={xhtml:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};this.create=function(e,t=null,a=null,n=0,o){void 0===o&&(o=t);var i=[];for(item of e)if(item){let e=t;
// if (typeof(item) == "string")
// { var itemSequentialList = item.split(" ");
//   if (itemSequentialList.length > 1)
//     item = itemSequentialList;
// }
if("string"==typeof item)if(item.startsWith("@")){var s=item.substring(1);if("INPUT"===a.prop("tagName")||a.is("textarea"))a.attr("placeholder",s);else{"OPTION"===a.prop("tagName")&&a.attr("value",s);a.text(s)}}else{if(item.startsWith("^")){e=o;item=item.replace(/\^/,"")}var l={},r=!1;for(elementParamName in this.elementDefSequence){var c=item.match(this["regex_"+elementParamName]);if(null!==c){l[elementParamName]=c[1];r=r||c[1].split(".")[0]}else l[elementParamName]=this.elementDefSequence[elementParamName]}l.classes=h.trim(l.classes.replace(this.regex_dot," "));r=r||"__blank";if(1<(elementTypeSplit=l.elementType.split(":")).length){l.elementType=elementTypeSplit[1];l.namespace=elementTypeSplit[0]}else l.namespace="xhtml";s={};l.id&&(s.id=l.id);l.classes&&(s.class=l.classes);
// var newElem =
//     $("<"+elementDef.elementType+"/>",
//       elemOptions
//     );
var d=h(document.createElementNS(O.elementNamespaceDict[l.namespace],l.elementType)).attr(s);null!==a&&a.append(d);a=d;e[r]=d;if(e instanceof jQuery){null==e.data("OCreateChildren")&&e.data("OCreateChildren",{});e.data("OCreateChildren")[r]=d}d[0].OCREATE_name=r;d.attr("OCREATE_name",r);i.push(a)}else if(Array.isArray(item)){var u=[];for(subItem of item){var p=O.create(subItem,t,a,n+1,a);u.push(p)}i.push(u)}else if(item instanceof jQuery){a&&a.append(item);r=(a=item).attr("id"),d=(d=item.attr("class"))&&d.split(" ")[0];(t[r=r||d||item.prop("nodeName").toLowerCase()]=item).OCREATE_name=r;i.push(item)}else if(isFunction(item))item(a);else if(isObject(item))if(item["@CallFunction"]){var m=item["@CallFunction"];m[0](item,...m[1])}else// debugger;
for(functionName in item)for(parametersList of item[functionName])a[functionName](...parametersList)}
// if (depth == 0) console.log("create", toReturn);
return i};this.tabBlock_except=function(e){var t,a,n=` a[href]:not([tabindex]),
          area[href]:not([tabindex]),
          input:not([disabled]):not([tabindex]),
          select:not([disabled]):not([tabindex]),
          textarea:not([disabled]):not([tabindex]),
          button:not([disabled]):not([tabindex]),
          iframe:not([tabindex]),
          [contentEditable=true]:not([tabindex])
        `.replace(/\s*/g,""),o=h(document);for(t of o.find(n)){(t=h(t)).toggleClass("OCreate_tabBlock_noTabIndex",!0);t.attr("tabindex","-1")}for(a of o.find("[tabindex='0']")){(a=h(a)).toggleClass("OCreate_tabBlock_withTabIndex",!0);a.attr("tabindex","-1")}this.tabBlock_remove(e)};this.tabBlock_remove=function(e){for(var t of(e=void 0===e?h(document):e).find(".OCreate_tabBlock_noTabIndex")){(t=h(t)).toggleClass("OCreate_tabBlock_noTabIndex",!1);t.removeAttr("tabindex")}for(var a of e.find(".OCreate_tabBlock_withTabIndex")){(a=h(a)).toggleClass("OCreate_tabBlock_withTabIndex",!1);a.attr("tabindex","0")}};let e=()=>{if(void 0!==e.doResizeTimeoutID){clearTimeout(e.doResizeTimeoutID);e.doResizeTimeoutID=void 0}e.doResizeTimeoutID=setTimeout(()=>{h(".overflowY_scrollWhenRequired").each((e,t)=>{t.scrollHeight>t.clientHeight?h(t).toggleClass("OCREATE_activate",!0):h(t).toggleClass("OCREATE_activate",!1)})},200)};h(window).on("resize",e);h(document).on("load",e);this.phaseContainer=function(a,e,t,n,o){O.create([".phaseContainer_container.modalBackground.flexColumn.flexJustifyContentCenter.flexAlignItemsCenter.height100.width100.positionAbsolute",".phaseContainer_mainContent.flexColumn.positionRelative",[["button.closeButton.buttonLeaf.positionAbsolute","@X"],[".phaseSummary_container.width100.flexAlignItemsCenter.flexJustifyContentCenter.textAlign_center"],[".phaseContainer_phaseContent.height100.width100.flex_centerAll.positionRelative"],["button.nextButton.buttonLeaf.positionAbsolute","@next"],["button.backButton.buttonLeaf.buttonLeafReversed.positionAbsolute","@back"]]],a,e);a.closeButton.on("click",()=>{a.phaseContainer_container.fadeOut(200);setTimeout(()=>{a.phaseContainer_container.remove()},200);
// nodes.ledgerContent.ledgerMainContent.newTransaction.attr("disabled", null);
// nodes.ledgerContent.ledgerMenuItemContainer.transactions.trigger("click");
o()});a.nextButton.on("click",()=>{s.next()});a.backButton.on("click",()=>{s.back()});let i=[],s=a.loadPhaseCollection={index:-1,next:()=>{void 0!==s.currentPhase&&s.currentPhase.next();s.load(s.index+1)},back:()=>{void 0!==s.currentPhase&&s.currentPhase.back();s.load(s.index-1)},load:e=>{s.index=e;s.currentPhase=i[s.index];setTimeout(()=>{s.currentPhase.load()},100);0===s.index?a.backButton.toggleClass("displayNone",!0):0<s.index&&a.backButton.toggleClass("displayNone",!1);s.index<i.length-1?a.nextButton.toggleClass("displayNone",!1):a.nextButton.toggleClass("displayNone",!0);s.nextButtonState();s.backButtonState()},buttonState:(e,t)=>{void 0===t&&(t=namespace.leafNode(s,"currentPhase.buttonStateDict."+e,"disabled"));a[e].attr("disabled","enabled"!==t?"disabled":null);namespace.setValue(s,"currentPhase.buttonStateDict."+e,t,{overwrite:!0})},nextButtonState:e=>s.buttonState("nextButton",e),backButtonState:e=>s.buttonState("backButton",e)};i.push(...n);s.next();return{phaseCollection:i,loadPhaseCollection:s}};this.phaseItem=function(t,a,n,e,o,i){n[t]={load:()=>{
// loadPhaseCollection.backButtonState("dis");
// if (transactionSummaryPhase.loaded !== true)
// { 
var e=transactionSummaryManager.transactionSpec;O.create([n.phaseContainer_phaseContent,".phaseContent."+t+".displayNone.flexAlignItemsCenter.flexJustifyContentCenter",[[".title.textAlign_center","@"+a],[".flexRow.flex_spaceBetween",[[".label","@Fees total:"],[".label","@Â£ 0.00"]]],[".flexRow.flex_spaceBetween",[[".label","@Fees percentage:"],[".label","@% 0.0"]]],[".flexRow.flex_spaceBetween",[[".label","@Total Amount to "+e.direction+":"],[".label","@"+e.quantityFormatted]]],
// [ ".flexRow.flex_spaceBetween",
//   [ [ ".label", "@Fees percentage:"],
//     [ ".label", "@0.0%"],
//   ],
// ],
[".approveCancelButtonGroup.flexRow.flex_spaceBetween",[["button.cancelTransaction.pauseOnLoad.buttonLeaf.buttonLeafSymetric.inputElement","@Cancel Transaction"],["button.approveTransaction.pauseOnLoad.buttonLeaf.buttonLeafSymetric","@Approve & Confirm"]]]]],validationResponsePhase,null);validationResponsePhase.phaseContent.find(".pauseOnLoad").attr("disabled","disabled");setTimeout(()=>{validationResponsePhase.phaseContent.find(".pauseOnLoad").attr("disabled",null);
// transactionSummaryPhase.submitTransactionForValidation.toggleClass("disabled", false);
},1200);
// validationResponsePhase.awaitValidationNotification.on
// ( "click",
//   (event) =>
//   {
//     validationResponsePhase.phaseContent.attr("disabled", "disabled");
//     newTransaction.closeButton.trigger("click");
//   }
// );
validationResponsePhase.cancelTransaction.on("click",e=>{validationResponsePhase.cancelTransaction.attr("disabled","disabled");validationResponsePhase.approveTransaction.attr("disabled","disabled");var t={eventID:"uiMajorStateCollection",uiMajorStateCollectionParameters:{command:"cancelTransaction",targetNodeName:"newTransaction",newTransactionID:validationResponsePhase.newTransactionID}};O.create([validationResponsePhase.phaseContent,".cancellingTransaction.width100.textAlign_center","@cancelling transaction"],validationResponsePhase,null);nodes.sendEventToServer(t)});validationResponsePhase.approveTransaction.on("click",e=>{h(".validationResponsePhase button").attr("disabled","disabled");var t={eventID:"uiMajorStateCollection",uiMajorStateCollectionParameters:{command:"approveTransaction",targetNodeName:"newTransaction",newTransactionID:validationResponsePhase.newTransactionID}};O.create([validationResponsePhase.phaseContent,".approvingTransaction.width100.textAlign_center","@approving transaction"],validationResponsePhase,null);nodes.sendEventToServer(t)});
// validationResponsePhase.submitTransactionForValidation.on
// ( "click",
//   (event) =>
//   {
//     let eventToSend = 
//         {
//           "eventID": "uiMajorStateCollection",
//           "uiMajorStateCollectionParameters":
//               {
//                 "command"       : "submitTransactionForValidation",
//                 "targetNodeName": "newTransaction",
//                 "transactionSpec": transactionSpec,
//               }
//         };
//     transactionSummaryPhase.submitTransactionForValidation.attr("disabled", "disabled");
//     transactionSummaryPhase.submitTransactionForValidation.toggleClass("validating", true);
//     loadPhaseCollection.backButtonState("disabled");
//     // nodes.pocMainContent.toggleClass("userSelectNone", true);
//     O.create
//     ( [ transactionSummaryPhase.phaseContent,
//         ".validatingTransaction", "@validating transaction",
//       ],
//       transactionSummaryPhase,
//       null
//     );
//     nodes.sendEventToServer(eventToSend);
//   }
// )
validationResponsePhase.loaded=!0;validationResponsePhase.phaseContent.fadeIn(200)},next:()=>{validationResponsePhase.phaseContent.fadeOut(100)},back:()=>{validationResponsePhase.phaseContent.fadeOut(100)}}}}(jQuery);window.O=ThisEqualsThat.BootstrapObjects;